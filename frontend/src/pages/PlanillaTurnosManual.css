@import url('https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Nunito:wght@700;800;900&display=swap');

:root{
  --bk-bg:#6a2e1f; --bk-bg2:#8a4221; --bk-cream:#f3e1c7; --bk-cream-2:#f7eddc;
  --bk-brown:#432010; --bk-dark:#2a0f07; --bk-green:#3fa35a; --bk-green-dark:#2b7a42;
  --bk-red:#c0392b; --bk-red-dark:#9f2b1d; --bk-gold:#e0a72b; --bk-gold-dark:#c88910;
  --bk-orange:#d96a28; --bk-orange-dark:#b3521a;
  --radius:12px;

  /* === ALTURA FIJA (no se rompe al editar) === */
  --tile-h: 35px;              /* antes 108px */
  --tile-pad: 5px;             /* padding interno del tile */
  --tile-gap: 2px;             /* separación entre celdas (antes 6px) */

  /* Tipografías compactas */
  --fs-head: 20px;             /* encabezados de días */
  --fs-body: 14px;             /* texto principal dentro del tile */
  --fs-mini: 11px;             /* “Disp”, badge, etc. */

  /* Ancho fijo columna empleado */
  --emp-col: 210px;
}

/* ===== Fondo general de la página Planilla =====
   → Transparente, dejamos ver el fondo global (Home)
================================================== */
.planilla-screen{
  min-height:100vh;
  background: transparent !important;   /* <<< clave para que se vea el mismo café */
  padding:12px;
  color:#2b170c;
  font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Cabecera */
.poster-head{
  border:3px solid #6b2a18;
  background:linear-gradient(180deg,#8e4029,#6f2d1c 55%,#5b2315);
  border-radius:18px;
  padding:12px 14px 8px;
  box-shadow: inset 0 2px 0 rgba(255,255,255,.08), 0 12px 20px rgba(0,0,0,.22);
  margin-bottom:10px;
}
.poster-head h1{
  margin:0; text-align:center;
  font-family:"Alfa Slab One", serif;
  font-size:clamp(28px,4.6vw,56px);
  line-height:.94;
  color:#f3e1c6;
  text-shadow:0 3px 0 rgba(0,0,0,.18);
  letter-spacing:.5px;
}
.poster-head .sub{
  text-align:center;
  margin:2px 0 0;
  color:#f8e7cf;
  opacity:.9;
  font-weight:900;
}

/* Toolbar */
.toolbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  background:#6f2d1c;
  border:3px solid #3c160c;
  border-radius:14px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
  margin-bottom:8px;
}
.toolbar .left,
.toolbar .right{
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  align-items:center;
}
.bk-btn{
  background:#f3e1c7;
  color:#2b170c;
  border:3px solid #3c160c;
  border-radius:999px;
  padding:5px 10px;
  font-weight:900;
  letter-spacing:.02em;
  cursor:pointer;
  box-shadow:0 2px 0 #2b170c, 0 6px 12px rgba(0,0,0,.18);
  transition:transform .05s ease, filter .15s ease;
  font-size:13px;
}
.bk-btn:hover{ filter:brightness(1.05); }
.bk-btn:active{ transform:translateY(1px); }
.bk-btn.primary{ background:var(--bk-green); border-color:#1d5a30; color:#fff; }
.bk-btn.danger{ background:var(--bk-red); border-color:var(--bk-red-dark); color:#fff; }
.bk-btn.info{ background:#1276d1; border-color:#0a4f8f; color:#fff; }

.bk-btn:disabled{
  opacity:.6;
  cursor:default;
  transform:none;
}

/* Barra de progreso del notebook */
.py-progress{
  max-width: 440px;
  margin: 6px auto 10px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 3px solid #3c160c;
  background: #f3e1c7;
  box-shadow: 0 3px 0 #3c160c, 0 6px 12px rgba(0,0,0,.20);
  display: flex;
  align-items: center;
  gap: 10px;
}
.py-progress-bar{
  flex:1;
  height: 10px;
  border-radius: 999px;
  background: #e0c8a4;
  overflow: hidden;
}
.py-progress-fill{
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg,#e0a72b,#3fa35a);
  transition: width .25s ease-out;
}
.py-progress-text{
  font-size: 11px;
  font-weight: 900;
  color: #2b170c;
  white-space: nowrap;
}

/* Tabla */
.planilla-table-wrap{
  background:#2d1109;
  border:4px solid #3c160c;
  border-radius:16px;
  padding:8px;
  box-shadow:0 12px 20px rgba(0,0,0,.28), inset 0 2px 0 rgba(255,255,255,.06);
  overflow-x:auto;
}
.planilla-table{
  width:100%;
  border-collapse:separate;
  border-spacing:var(--tile-gap);
  table-layout: fixed;       /* congela las geometrías de columnas */
}
.planilla-table thead th{
  background:#6d311d;
  color:#fde7c8;
  border:3px solid #2b170c;
  border-radius:10px;
  text-align:center;
  padding:6px 4px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.09), 0 4px 8px rgba(0,0,0,.18);
  min-width:94px;
  font-size:var(--fs-head);
  vertical-align:middle;
}
.planilla-table thead th.col-emp{
  min-width:var(--emp-col);
  width:var(--emp-col);
  max-width:var(--emp-col);
}
.day-head .day{
  display:block;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:.02em;
}
.day-head .date{
  display:block;
  opacity:.9;
  font-weight:900;
  color:#f7e6cc;
  font-size:15px;
}

/* Columna Empleado */
.planilla-table td.emp-cell{
  width:var(--emp-col);
  max-width:var(--emp-col);
  min-width:var(--emp-col);
  box-sizing:border-box;
  white-space:nowrap;
}

.emp-cell{
  position:relative; /* para la esquinita de ID */
  background:#edd9b9;
  border:3px solid #2b170c;
  border-radius:10px;
  padding:6px 30px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.3), 0 6px 10px rgba(0,0,0,.18);
  vertical-align:middle;
}
.emp-cell .emp-name{
  display:inline-block;
  font-weight:900;
  font-size:14px;
  color:#2b170c;
  overflow:hidden;
  text-overflow:ellipsis;
}
.emp-cell .emp-badge{
  float:right;
  transform:translateY(-1px);
  font-weight:900;
  font-size:11px;
  color:#2b170c;
  background:#f7eddc;
  border:2px solid #2b170c;
  border-radius:999px;
  padding:2px 7px;
  line-height:1;
  white-space:nowrap;
}

/* Tiles */
.tile{
  position:relative;
  height:var(--tile-h);
  background:#f7eddc;
  border:3px solid #2b170c;
  border-radius:10px;
  text-align:center;
  vertical-align:middle;
  box-shadow:inset 0 2px 0 rgba(255,255,255,.28), 0 6px 12px rgba(0,0,0,.18);
  padding:var(--tile-pad);
  color:#1d120c;
}
.tile .hh{
  display:block;
  font-weight:900;
  font-size:var(--fs-body);
  line-height:1;
}
.tile .subtiny{
  display:inline-block;
  font-weight:900;
  font-size:var(--fs-mini);
  opacity:.9;
  margin-right:6px;
}
.tile .label{
  font-weight:900;
  text-transform:uppercase;
  font-size:12px;
}

/* Colores vista */
.tile--shift{
  background: linear-gradient(180deg, #ffe08a, #e3b63f);
  color:#2b170c;
}
.tile--disp{
  background: linear-gradient(180deg, #79503d, #271102);
  color:#ffffff;
}
.tile--free{
  background: linear-gradient(180deg, #3fa35a, #2f7f46);
  color:#fff;
}
.tile--na{
  background:linear-gradient(180deg,#d3664e,#b14a37);
  color:#fff;
}
.tile--benefit{
  background:linear-gradient(180deg,#f0b73c,#d99815);
  color:#2b170c;
}
.tile--warn{
  background:linear-gradient(180deg,#ffe2a8,#f0c774);
  color:#2b170c;
}

/* Modo edición */
.tile--edit{
  background:linear-gradient(180deg,#ffd88c,#e7b458);
  color:#2b170c;
  overflow:hidden;
}
.edit-row{
  position:absolute;
  inset:10px 12px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
}
.tile--edit input[type="time"]{
  background:#ffd88c;
  border:3px solid #2b170c;
  border-radius:8px;
  padding:1px 1px;
  font-weight:900;
  font-size:12.5px;
  width:76px;
  height:28px;
  box-shadow:0 2px 0 #2b170c;
}
.tile--edit input[type="time"]::-webkit-calendar-picker-indicator{
  transform:scale(.85);
}
.tile--edit input[type="time"]::-webkit-datetime-edit{
  padding:0;
}

/* Separador “—” */
.dash{
  font-weight:900;
  font-size:13px;
  opacity:.9;
}

/* Botón mini */
button.mini{
  border:3px solid #2b170c;
  border-radius:9px;
  padding:4px 7px;
  font-weight:900;
  cursor:pointer;
  background:#f3e1c7;
  color:#2b170c;
  box-shadow:0 2px 0 #2b170c;
  font-size:12px;
  height:28px;
}
button.mini.danger{
  background:var(--bk-red);
  color:#fff;
  border-color:var(--bk-red-dark);
}
button.mini.ghost{
  background:#fff3de;
}

/* === Esquina de ID para empleados y turnos asignados === */
.corner-id{
  position:absolute;
  right:4px;
  bottom:4px;
  padding:0 5px;
  min-width:16px;
  height:16px;
  border-radius:6px;
  border:2px solid #2b170c;   /* café oscuro */
  background:transparent;      /* usa el mismo fondo del tile/empleado */
  color:#2b170c;
  font-family:'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight:900;
  font-size:10px;
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:default;
  box-shadow:none;
  z-index:2;
}
.corner-id:hover{
  filter:brightness(1.05);
}

/* Pie */
.tile--foot{
  background:#edd9b9;
}
.foot-line{
  display:block;
  font-weight:900;
  font-size:14px;
}
.foot-mini{
  display:block;
  font-weight:900;
  font-size:10px;
  opacity:.85;
}

/* Resumen en negrita en columna empleado */
.emp-cell.foot{
  font-weight:900;
}

/* Fuente coherente en horas */
.tile--edit input[type="time"],
.tile--shift .time-row,
.tile--disp .time-row,
.tile--free .time-row,
.tile--na .label{
  font-family:'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif !important;
  font-weight:900;
  letter-spacing:0.3px;
}

/* Fuente uniforme para nombres */
.emp-cell .emp-name,
.emp-cell .emp-badge{
  font-family:'Nunito', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif !important;
  font-weight:1000;
  letter-spacing:0.7px;
}

/* Selector de semana */
.week-picker{
  display:flex;
  align-items:center;
  gap:6px;
  font-weight:900;
  font-size:14px;
  color:#f3e1c7;
}
.week-picker input[type="date"]{
  background: linear-gradient(180deg, #f7eddc, #e7cfb0);
  border: 3px solid #2b170c;
  border-radius: 8px;
  padding: 4px 8px;
  font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-weight: 900;
  color: #2b170c;
  box-shadow: 0 2px 0 #2b170c, 0 4px 8px rgba(0, 0, 0, 0.25);
  transition: all 0.15s ease;
}
.week-picker input[type="date"]:hover{
  filter: brightness(1.05);
}
.week-picker input[type="date"]:focus{
  outline: none;
  border-color: #e0a72b;
  box-shadow: 0 0 0 3px rgba(224, 167, 43, 0.4);
}

/* Responsive */
@media (max-width:1280px){
  :root{ --tile-h: 66px; --fs-body: 13px; }
  .planilla-table thead th{ min-width:90px; }
}
@media (max-width:980px){
  :root{ --tile-h: 60px; --fs-body: 12.5px; }
  .tile--edit input[type="time"]{ width:70px; font-size:12px; }
}
@media (max-width:820px){
  .toolbar{
    flex-direction:column;
    align-items:stretch;
  }
}
